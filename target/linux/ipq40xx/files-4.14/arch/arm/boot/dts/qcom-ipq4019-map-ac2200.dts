/* Copyright (c) 2015, The Linux Foundation. All rights reserved.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */

#include "qcom-ipq4019.dtsi"
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/input/input.h>
#include <dt-bindings/soc/qcom,tcsr.h>

/ {
	model = "ASUS Lyra MAP-AC2200";
	compatible = "asus,map-ac2200", "qcom,ipq4019";

	soc {
		mdio@90000 {
			status = "okay";
		};

		ess-psgmii@98000 {
			status = "okay";
		};

		tcsr@1949000 {
			compatible = "qcom,tcsr";
			reg = <0x1949000 0x100>;
			qcom,wifi_glb_cfg = <TCSR_WIFI_GLB_CFG>;
		};

		ess_tcsr@1953000 {
			compatible = "qcom,tcsr";
			reg = <0x1953000 0x1000>;
			qcom,ess-interface-select = <TCSR_ESS_PSGMII>;
		};

		tcsr@1957000 {
			compatible = "qcom,tcsr";
			reg = <0x1957000 0x100>;
			qcom,wifi_noc_memtype_m0_m2 = <TCSR_WIFI_NOC_MEMTYPE_M0_M2>;
		};

		serial@78af000 {
			pinctrl-0 = <&serial_pins>;
			pinctrl-names = "default";
			status = "okay";
		};

		crypto@8e3a000 {
			status = "okay";
		};

		wifi@a000000 {
			status = "okay";
			qcom,ath10k-calibration-variant = "ASUS-MAP-AC2200";
		};

		wifi@a800000 {
			status = "okay";
			qcom,ath10k-calibration-variant = "ASUS-MAP-AC2200";
		};

		watchdog@b017000 {
			status = "okay";
		};

		ess-switch@c000000 {
			status = "okay";
		};

		edma@c080000 {
			status = "okay";
		};
	};

};
&nand {
	pinctrl-0 = <&nand_pins>;
	pinctrl-names = "default";
	status = "okay";

	nand@0 {
		partitions {
			compatible = "fixed-partitions";
			#address-cells = <1>;
			#size-cells = <1>;


			partition@0 {
				label = "bootloader";
				reg = <0x000000000000 0x00000400000>;
			};
			partition@1 {
				label = "ubi";
				reg = <0x000000400000 0x07c00000>;
			};
		};
	};
};

&tlmm {
	serial_pins: serial_pinmux {
		mux {
			pins = "gpio60", "gpio61";
			function = "blsp_uart0";
			bias-disable;
		};
	};
	
	nand_pins: nand_pins {

                                pullups {
                                        pins = "gpio52", "gpio53", "gpio58",
                                                "gpio59";
                                        function = "qpic";
                                        bias-pull-up;
                                };

                                pulldowns {
                                        pins = "gpio54", "gpio55", "gpio56",
                                                "gpio57", "gpio60", "gpio61",
                                                "gpio62", "gpio63", "gpio64",
                                                "gpio65", "gpio66", "gpio67",
                                                "gpio68", "gpio69";
                                        function = "qpic";
                                        bias-pull-down;
                                };
       };

};

&cryptobam {
	status = "okay";
};

&blsp_dma {
	status = "okay";
};
