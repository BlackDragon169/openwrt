Index: u-boot-2017-01-29-6946ebba/net/net.c
===================================================================
--- u-boot-2017-01-29-6946ebba.orig/net/net.c
+++ u-boot-2017-01-29-6946ebba/net/net.c
@@ -1361,9 +1361,11 @@ void net_set_ip_header(uchar *pkt, IPadd
 	/* IP_HDR_SIZE / 4 (not including UDP) */
 	ip->ip_hl_v  = 0x45;
 	ip->ip_tos   = 0;
+	udelay(100);
 	ip->ip_len   = htons(IP_HDR_SIZE);
 	ip->ip_id    = htons(NetIPID++);
 	ip->ip_off   = htons(IP_FLAGS_DFRAG);	/* Don't fragment */
+	udelay(100);
 	ip->ip_ttl   = 255;
 	ip->ip_sum   = 0;
 	/* already in network byte order */
Index: u-boot-2017-01-29-6946ebba/net/ping.c
===================================================================
--- u-boot-2017-01-29-6946ebba.orig/net/ping.c
+++ u-boot-2017-01-29-6946ebba/net/ping.c
@@ -27,13 +27,18 @@ static void set_icmp_header(uchar *pkt,
 	net_set_ip_header(pkt, dest, NetOurIP);
 
 	ip->ip_len   = htons(IP_ICMP_HDR_SIZE);
+	udelay(100);
 	ip->ip_p     = IPPROTO_ICMP;
+	udelay(100);
 	ip->ip_sum   = ~NetCksum((uchar *)ip, IP_HDR_SIZE >> 1);
 
+	udelay(100);
 	icmp->type = ICMP_ECHO_REQUEST;
+	udelay(100);
 	icmp->code = 0;
 	icmp->checksum = 0;
 	icmp->un.echo.id = 0;
+	udelay(100);
 	icmp->un.echo.sequence = htons(PingSeqNo++);
 	icmp->checksum = ~NetCksum((uchar *)icmp, ICMP_HDR_SIZE	>> 1);
 }
